[build]
  command = "npm run build"
  publish = "dist"

# Redirects for SEO
[[redirects]]
  from = "/anime-list"
  to = "/search"
  status = 301

[[redirects]]
  from = "/anime-directory"
  to = "/search"
  status = 301

[[redirects]]
  from = "/browse"
  to = "/search"
  status = 301

[[redirects]]
  from = "/series"
  to = "/tv"
  status = 301

[[redirects]]
  from = "/shows"
  to = "/tv"
  status = 301

[[redirects]]
  from = "/movies/"
  to = "/movies"
  status = 301

[[redirects]]
  from = "/tv/"
  to = "/tv"
  status = 301

[[redirects]]
  from = "/popular/"
  to = "/popular"
  status = 301

[[redirects]]
  from = "/top-airing/"
  to = "/top-airing"
  status = 301

# ðŸš€ Exclude assets from fallback
[[redirects]]
  from = "/assets/*"
  to = "/assets/:splat"
  status = 200

[[redirects]]
  from = "/img/*"
  to = "/img/:splat"
  status = 200

# SPA Fallback (catch-all for routes, but not assets)
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
